<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>Web Design Mastery | WDM&Co</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <nav>
      <div class="nav__logo">BC Camping</div>
      <ul class="nav__links">
        <li class="link"><a href="#">Home</a></li>
        <li class="link"><a href="#">Book</a></li>
        <li class="link"><a href="#">Blog</a></li>
        <li class="link"><a href="#">Contact Us</a></li>
      </ul>
    </nav>
    </header>

    <section class="section__container popular__container">
      <h2 class="section__header">Available Campgrounds</h2>
      <div class="popular__grid" id="campsite-results">
        <!-- Campsite cards will be dynamically appended here -->
      </div>
    </section>
    

    <div class="loading-overlay">
      <div class="loading-image"></div>
      <div class="loading-text">Loading...</div>
    </div>
    

    <footer class="footer">
      <div class="section__container footer__container">
        <div class="footer__col">
          <h3>WDM&Co</h3>
          <p>
            WDM&Co is a premier hotel booking website that offers a seamless and
            convenient way to find and book accommodations worldwide.
          </p>
          <p>
            With a user-friendly interface and a vast selection of hotels,
            WDM&Co aims to provide a stress-free experience for travelers
            seeking the perfect stay.
          </p>
        </div>
        <div class="footer__col">
          <h4>Company</h4>
          <p>About Us</p>
          <p>Our Team</p>
          <p>Blog</p>
          <p>Book</p>
          <p>Contact Us</p>
        </div>
        <div class="footer__col">
          <h4>Legal</h4>
          <p>FAQs</p>
          <p>Terms & Conditions</p>
          <p>Privacy Policy</p>
        </div>
        <div class="footer__col">
          <h4>Resources</h4>
          <p>Social Media</p>
          <p>Help Center</p>
          <p>Partnerships</p>
        </div>
      </div>
      <div class="footer__bar">
        certified j1mmr production
      </div>
    </footer>
  </body>
</html>

<!-- ... (HTML code) ... -->

<!-- Corrected JavaScript code -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var urlParams = new URLSearchParams(window.location.search);
    var address = urlParams.get("address");
    var startDate = urlParams.get("start-date");
    var endDate = urlParams.get("end-date");

    // Construct the request payload
    var requestData = {
      address: address,
      start_date: startDate,
      end_date: endDate,
    };

    // Show loading overlay
    var loadingOverlay = document.createElement("div");
    loadingOverlay.classList.add("loading-overlay"); // Corrected class name
    var loadingSpinner = document.createElement("div");
    loadingSpinner.classList.add("loading-spinner");
    var loadingText = document.createElement("div");
    loadingText.classList.add("loading-text");
    loadingText.textContent = "Loading...";
    loadingOverlay.appendChild(loadingSpinner);
    loadingOverlay.appendChild(loadingText);
    document.body.appendChild(loadingOverlay);

    // Make the API call with POST method and headers
    fetch(
      "https://bc-camping.azurewebsites.net/api/backend1?code=7DOL_9TvoDAdNGqBUAoizSb-TgWpUtTJcBn_a65rGdayAzFuum601A==",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: "Bearer your-token",
        },
        body: JSON.stringify(requestData),
      }
    )
      .then((response) => {
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        return response.json();
      })
      .then((data) => {
        var campsiteResults = document.getElementById("campsite-results");

        if (campsiteResults) {
          // Iterate over the campsite data and create HTML elements
          for (var i = 0; i < data.length; i++) {
            // ... (create campsite cards and content as before) ...
          }
        }

        // Remove loading overlay
        loadingOverlay.remove();
      })
      .catch((error) => {
        // Handle error response
        console.error(error);

        // Show error message in loading overlay
        loadingText.textContent = "Error loading data";

        // Remove loading overlay after a delay
        setTimeout(() => {
          loadingOverlay.remove();
        }, 2000); // Adjust the delay (in milliseconds) as needed
      });
  });
</script>




